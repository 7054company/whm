function scrollToGatewayInputError(){var e=jQuery(".gateway-errors,.assisted-cc-input-feedback").first(),t=e.closest("form");t||(t=jQuery("form").first()),t.find('button[type="submit"],input[type="submit"]').prop("disabled",!1).removeClass("disabled").find("i.fas,i.far,i.fal,i.fab").removeAttr("class").addClass("fas fa-arrow-circle-right").find("span").toggleClass("hidden"),e.length&&jQuery("html, body").animate({scrollTop:e.offset().top-50},500)}function validateCheckoutCreditCardInput(e){var t=jQuery('input[name="ccinfo"]:checked').val(),n=checkoutForm.find('*[type="submit"]'),a=null,i=!0,r=checkoutForm.find('input[name="paymentmethod"]:checked'),o=r.hasClass("is-credit-card"),d="RemoteCreditCard"===r.data("payment-type"),s=jQuery("#inputCardNumber");if(checkoutForm.find(".form-group").removeClass("has-error"),checkoutForm.find(".field-error-msg").hide(),o&&!d){var l=checkoutForm.find("#inputCardCVV2");if("new"===t){if(l=checkoutForm.find("#inputCardCVV"),a=jQuery.payment.cardType(checkoutForm.find("#inputCardNumber").val()),!jQuery.payment.validateCardNumber(checkoutForm.find("#inputCardNumber").val())||s.hasClass("unsupported")){var u=s.data("message-invalid");s.hasClass("unsupported")&&(u=s.data("message-unsupported")),checkoutForm.find("#inputCardNumber").setInputError(u).showInputError(),i=!1}jQuery.payment.validateCardExpiry(checkoutForm.find("#inputCardExpiry").payment("cardExpiryVal"))||(checkoutForm.find("#inputCardExpiry").showInputError(),i=!1)}jQuery.payment.validateCardCVC(l.val(),a)||(l.showInputError(),i=!1),i||(n.prop("disabled",!1).removeClass("disabled").find("i").removeAttr("class").addClass("fas fa-arrow-circle-right"),e.preventDefault())}}function hasDomainLookupEnded(){domainLookupCallCount++,3==domainLookupCallCount&&jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled")}function hasProductDomainLookupEnded(e,t){domainLookupCallCount++,domainLookupCallCount==e&&(t.removeAttr("disabled").removeClass("disabled"),jQuery('input[name="domainoption"]').iCheck("enable"))}function domainGotoNextStep(){jQuery("#domainLoadingSpinner").show(),jQuery("#frmProductDomainSelections").submit()}function removeItem(e,t){jQuery("#inputRemoveItemType").val(e),jQuery("#inputRemoveItemRef").val(t),jQuery("#modalRemoveItem").modal("show")}function updateConfigurableOptions(e,t){WHMCS.http.jqClient.post("cart.php","a=cyclechange&ajax=1&i="+e+"&billingcycle="+t,function(e){jQuery("#productConfigurableOptions").html(jQuery(e).find("#productConfigurableOptions").html()),jQuery("input").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),recalctotals()}function recalctotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e;var t=WHMCS.http.jqClient.post("cart.php","ajax=1&a=confproduct&calctotal=true&"+jQuery("#frmConfigureProduct").serialize());t.done(function(t){e==window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(t)}),t.always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function recalculateRenewalTotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e,WHMCS.http.jqClient.get(WHMCS.utils.getRouteUrl("/cart/domain/renew/calculate")).done(function(t){e===window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(t.body)}).always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function selectDomainPricing(e,t,n,a,i){jQuery("#domainSuggestion"+i).iCheck("check"),jQuery("[name='domainsregperiod["+e+"]']").val(n),jQuery("[name='"+e+"-selected-price']").html('<b class="glyphicon glyphicon-shopping-cart"></b> '+n+" "+a+" @ "+t)}function selectDomainPeriodInCart(e,t,n,a){var i=jQuery("#orderSummaryLoader");i.hasClass("hidden")&&i.hide().removeClass("hidden").fadeIn("fast"),jQuery("[name='"+e+"Pricing']").html(n+" "+a+' <span class="caret"></span>'),jQuery("[name='"+e+"Price']").html(t);var r=WHMCS.http.jqClient.post(window.location.pathname,{domain:e,period:n,a:"updateDomainPeriod",token:csrfToken});r.done(function(e){e.domains.forEach(function(e){jQuery("[name='"+e.domain+"Price']").parent("div").find(".renewal-price").html(e.prefixedRenewPrice+e.shortRenewalYearsLanguage).end()}),jQuery("#subtotal").html(e.subtotal),e.promotype&&jQuery("#discount").html(e.discount),e.taxrate&&jQuery("#taxTotal1").html(e.taxtotal),e.taxrate2&&jQuery("#taxTotal2").html(e.taxtotal2);var t=jQuery("#recurring");t.find("span:visible").not("span.cost").fadeOut("fast").end(),e.totalrecurringannually&&jQuery("#recurringAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringannually),e.totalrecurringbiennially&&jQuery("#recurringBiennially").fadeIn("fast").find(".cost").html(e.totalrecurringbiennially),e.totalrecurringmonthly&&jQuery("#recurringMonthly").fadeIn("fast").find(".cost").html(e.totalrecurringmonthly),e.totalrecurringquarterly&&jQuery("#recurringQuarterly").fadeIn("fast").find(".cost").html(e.totalrecurringquarterly),e.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringsemiannually),e.totalrecurringtriennially&&jQuery("#recurringTriennially").fadeIn("fast").find(".cost").html(e.totalrecurringtriennially),jQuery("#totalDueToday").html(e.total)}),r.always(function(){i.delay(500).fadeOut("slow").addClass("hidden").show()})}function loadMoreSuggestions(){var e,t=jQuery("#domainSuggestions");for(e=1;e<=10;e++){if(!(furtherSuggestions>0))return void jQuery("div.more-suggestions").find("a").addClass("hidden").end().find("span.no-more").removeClass("hidden");t.find("li.domain-suggestion.hidden.clone:first").not().hide().removeClass("hidden").slideDown(),furtherSuggestions=t.find("li.domain-suggestion.clone.hidden").length}}function validate_captcha(e){var t=jQuery("#g-recaptcha-response"),n=jQuery("#divDynamicRecaptcha"),a=jQuery("#inputCaptcha");if(t.length&&!t.val())return n.tooltip("show"),!1;if(a.length&&!a.val())return a.tooltip("show"),!1;var i=WHMCS.http.jqClient.post(e.attr("action"),e.serialize()+"&a=validateCaptcha",null,"json");i.done(function(t){t.error?(jQuery("#inputCaptcha").attr("data-original-title",t.error).tooltip("show"),a.length&&jQuery("#inputCaptchaImage").replaceWith('<img id="inputCaptchaImage" src="'+whmcsBaseUrl+'includes/verifyimage.php" align="middle" />')):(jQuery("#captchaContainer").remove(),e.trigger("submit"))})}!function(e){function t(e,t,i){var r=e[0],o=/er/.test(i)?_indeterminate:/bl/.test(i)?p:h,d=i==_update?{checked:r[h],disabled:r[p],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:r[o];if(/^(ch|di|in)/.test(i)&&!d)n(e,o);else if(/^(un|en|de)/.test(i)&&d)a(e,o);else if(i==_update)for(var s in d)d[s]?n(e,s,!0):a(e,s,!0);else t&&"toggle"!=i||(t||e[_callback]("ifClicked"),d?r[_type]!==c&&a(e,o):n(e,o))}function n(t,n,i){var u=t[0],m=t.parent(),y=n==h,g=n==_indeterminate,v=n==p,C=g?_determinate:y?f:"enabled",j=r(t,C+o(u[_type])),b=r(t,n+o(u[_type]));if(u[n]!==!0){if(!i&&n==h&&u[_type]==c&&u.name){var Q=t.closest("form"),w='input[name="'+u.name+'"]';w=Q.length?Q.find(w):e(w),w.each(function(){this!==u&&e(this).data(s)&&a(e(this),n)})}g?(u[n]=!0,u[h]&&a(t,h,"force")):(i||(u[n]=!0),y&&u[_indeterminate]&&a(t,_indeterminate,!1)),d(t,y,n,i)}u[p]&&r(t,_cursor,!0)&&m.find("."+l).css(_cursor,"default"),m[_add](b||r(t,n)||""),m.attr("role")&&!g&&m.attr("aria-"+(v?p:h),"true"),m[_remove](j||r(t,C)||"")}function a(e,t,n){var a=e[0],i=e.parent(),s=t==h,u=t==_indeterminate,c=t==p,m=u?_determinate:s?f:"enabled",y=r(e,m+o(a[_type])),g=r(e,t+o(a[_type]));a[t]!==!1&&(!u&&n&&"force"!=n||(a[t]=!1),d(e,s,m,n)),!a[p]&&r(e,_cursor,!0)&&i.find("."+l).css(_cursor,"pointer"),i[_remove](g||r(e,t)||""),i.attr("role")&&!u&&i.attr("aria-"+(c?p:h),"false"),i[_add](y||r(e,m)||"")}function i(t,n){t.data(s)&&(t.parent().html(t.attr("style",t.data(s).s||"")),n&&t[_callback](n),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function r(e,t,n){if(e.data(s))return e.data(s).o[t+(n?"":"Class")]}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e,t,n,a){a||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+o(n)))}var s="iCheck",l=s+"-helper",u="checkbox",c="radio",h="checked",f="un"+h,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[s]=function(r,o){var d='input[type="'+u+'"], input[type="'+c+'"]',f=e(),m=function(t){t.each(function(){var t=e(this);f=t.is(d)?f.add(t):f.add(t.find(d))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),m(this),f.each(function(){var n=e(this);"destroy"==r?i(n,"ifDestroyed"):t(n,!0,r),e.isFunction(o)&&o()});if("object"!=typeof r&&r)return this;var y=e.extend({checkedClass:h,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},r),g=y.handle,v=y.hoverClass||"hover",C=y.focusClass||"focus",j=y.activeClass||"active",b=!!y.labelHover,Q=y.labelHoverClass||"hover",w=0|(""+y.increaseArea).replace("%","");return g!=u&&g!=c||(d='input[type="'+g+'"]'),w<-50&&(w=-50),m(this),f.each(function(){var r=e(this);i(r);var o,d=this,f=d.id,m=-w+"%",g=100+2*w+"%",k={position:"absolute",top:m,left:m,display:"block",width:g,height:g,margin:0,padding:0,background:"#fff",border:0,opacity:0},S=_mobile?{position:"absolute",visibility:"hidden"}:w?k:{position:"absolute",opacity:0},M=d[_type]==u?y.checkboxClass||"i"+u:y.radioClass||"i"+c,_=e(_label+'[for="'+f+'"]').add(r.closest(_label)),D=!!y.aria,x=s+"-"+Math.random().toString(36).substr(2,6),T='<div class="'+M+'" '+(D?'role="'+d[_type]+'" ':"");D&&_.each(function(){T+='aria-labelledby="',this.id?T+=this.id:(this.id=x,T+=x),T+='"'}),T=r.wrap(T+"/>")[_callback]("ifCreated").parent().append(y.insert),o=e('<ins class="'+l+'"/>').css(k).appendTo(T),r.data(s,{o:y,s:r.attr("style")}).css(S),!!y.inheritClass&&T[_add](d.className||""),!!y.inheritID&&f&&T.attr("id",s+"-"+f),"static"==T.css("position")&&T.css("position","relative"),t(r,!0,_update),_.length&&_.on(_click+".i mouseover.i mouseout.i "+_touch,function(n){var a=n[_type],i=e(this);if(!d[p]){if(a==_click){if(e(n.target).is("a"))return;t(r,!1,!0)}else b&&(/ut|nd/.test(a)?(T[_remove](v),i[_remove](Q)):(T[_add](v),i[_add](Q)));if(!_mobile)return!1;n.stopPropagation()}}),r.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type],i=e.keyCode;return t!=_click&&("keydown"==t&&32==i?(d[_type]==c&&d[h]||(d[h]?a(r,h):n(r,h)),!1):void("keyup"==t&&d[_type]==c?!d[h]&&n(r,h):/us|ur/.test(t)&&T["blur"==t?_remove:_add](C)))}),o.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var n=e[_type],a=/wn|up/.test(n)?j:v;if(!d[p]){if(n==_click?t(r,!1,!0):(/wn|er|in/.test(n)?T[_add](a):T[_remove](a+" "+j),_.length&&b&&a==v&&_[/ut|nd/.test(n)?_remove:_add](Q)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(e,t){"object"!=typeof e.WHMCS&&(e.WHMCS=t)}(window,{hasModule:function(e){return"undefined"!=typeof WHMCS[e]&&Object.getOwnPropertyNames(WHMCS[e]).length>0},loadModule:function(e,t){if(!this.hasModule(e))if(WHMCS[e]={},"function"==typeof t)t.apply(WHMCS[e]);else for(var n in t)t.hasOwnProperty(n)&&(WHMCS[e][n]={},t[n].apply(WHMCS[e][n]))}}),jQuery(document).ready(function(){jQuery(document).on("click",".disable-on-click",function(){if(jQuery(this).addClass("disabled"),jQuery(this).hasClass("spinner-on-click")){var e=$(this).find("i.fas,i.far,i.fal,i.fab");jQuery(e).removeAttr("class").addClass("fas fa-spinner fa-spin")}})}),function(e){WHMCS.hasModule("authn")||WHMCS.loadModule("authn",e)}({provider:function(){var e=!1;return this.feedbackContainer=function(){return jQuery(".providerLinkingFeedback")},this.btnContainer=function(){return jQuery(".providerPreLinking")},this.feedbackMessage=function(e){"undefined"==typeof e&&(e="complete_sign_in");var t=jQuery("p.providerLinkingMsg-preLink-"+e);return t.length?t.first().html():""},this.showProgressMessage=function(t){this.feedbackContainer().fadeIn("fast",function(){"function"!=typeof t||e||(e=!0,t())})},this.preLinkInit=function(e){var t='<i class="fas fa-fw fa-spinner fa-spin"></i> ';this.feedbackContainer().removeClass("alert-danger alert-success").addClass("alert alert-info").html(t+this.feedbackMessage()).hide();var n=this.btnContainer();if(n.length)if(n.data("hideOnPrelink")){var a=this;n.fadeOut("false",function(){a.showProgressMessage(e)})}else n.data("disableOnPrelink")?(n.find(".btn").addClass("disabled"),this.showProgressMessage(e)):this.showProgressMessage(e);else this.showProgressMessage(e)},this.displayError=function(e,t,n){jQuery("#providerLinkingMessages .provider-name").html(e);var a=this.feedbackMessage("connect_error");if(t){var i=this.feedbackMessage(t);i&&(a=i)}n&&$(".btn-logged-in-admin").length>0&&(a+=" Error: "+n),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(a).slideDown()},this.displaySuccess=function(e,t,n){var a=n.icon,i=t.htmlTarget,r=t.targetLogin,o=t.targetRegister,d=n.name,s="";switch(e.result){case"logged_in":case"2fa_needed":s=this.feedbackMessage("2fa_needed"),this.feedbackContainer().removeClass("alert-danger alert-warning alert-success").addClass("alert alert-info").html(s),window.location=e.redirect_url?decodeURIComponent(e.redirect_url):decodeURIComponent(t.redirectUrl);break;case"linking_complete":var l="";l=e.remote_account.email?e.remote_account.email:e.remote_account.firstname+" "+e.remote_account.lastname,l=l.trim(),s=this.feedbackMessage("linking_complete").trim().replace(":displayName",d),l&&(s=s.replace(/\.$/," ("+l+").")),this.feedbackContainer().removeClass("alert-danger alert-warning alert-info").addClass("alert alert-success").html(a+s);break;case"login_to_link":if(i===r)s=this.feedbackMessage("login_to_link-signin-required"),this.feedbackContainer().removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(a+s);else{var u=jQuery("input[name=email]"),c=jQuery("input[name=firstname]"),h=jQuery("input[name=lastname]");if(""===u.val()&&u.val(e.remote_account.email),""===c.val()&&c.val(e.remote_account.firstname),""===h.val()&&h.val(e.remote_account.lastname),i===o)"object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword(),s=this.feedbackMessage("login_to_link-registration-required"),this.feedbackContainer().fadeOut("slow",function(){$(this).removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(a+s).fadeIn("fast")});else{"object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword();var f=this;this.feedbackContainer().each(function(e,t){var n=$(t),i=n.siblings("div .providerPreLinking").data("linkContext");n.fadeOut("slow",function(){s="checkout-new"===i?f.feedbackMessage("checkout-new"):f.feedbackMessage("login_to_link-signin-required"),n.removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(a+s).fadeIn("fast")})})}}break;case"other_user_exists":s=this.feedbackMessage("other_user_exists"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(a+s).slideDown();break;case"already_linked":s=this.feedbackMessage("already_linked"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(a+s).slideDown();break;default:s=this.feedbackMessage("default"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(a+s).slideDown()}},this.signIn=function(e,t,n,a,i){jQuery.ajax(e).done(function(e){a(),WHMCS.authn.provider.displaySuccess(e,t,n);var i=jQuery("#tableLinkedAccounts");i.length&&WHMCS.ui.dataTable.getTableById("tableLinkedAccounts").ajax.reload()}).error(function(){i(),WHMCS.authn.provider.displayError()})},this}}),function(e){WHMCS.hasModule("client")||WHMCS.loadModule("client",e)}({registration:function(){return this.prefillPassword=function(e){if(e=e||{},"undefined"==typeof e.hideContainer){var t=jQuery("#inputSecurityQId").attr("id")?"#containerPassword":"#containerNewUserSecurity";e.hideContainer=jQuery(t),e.hideInputs=!0}else"string"==typeof e.hideContainer&&e.hideContainer.length&&(e.hideContainer=jQuery(e.hideContainer));"undefined"==typeof e.form&&(e.form={password:[{id:"inputNewPassword1"},{id:"inputNewPassword2"}]});var n=function(){for(var t=WHMCS.utils.simpleRNG(),n=0,a=e.form.password.length;n<a;n++)jQuery("#"+e.form.password[n].id).val(t).trigger("keyup")};e.hideInputs?e.hideContainer.slideUp("fast",n):n()},this}}),function(e){WHMCS.hasModule("http")||WHMCS.loadModule("http",e)}({jqClient:function(){return _getSettings=function(e,t,n,a){return"object"==typeof e?e:("function"==typeof t&&(n=t,t=null),{url:e,data:t,success:n,dataType:a})},this.get=function(e,t,n,a){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,n,a),{type:"GET"}))},this.post=function(e,t,n,a){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,n,a),{type:"POST"}))},this.jsonGet=function(e){e=e||{},this.get(e.url,e.data,function(t){t.warning?(console.log("[WHMCS] Warning: "+t.warning),"function"==typeof e.warning&&e.warning(t.warning)):t.error?(console.log("[WHMCS] Error: "+t.error),"function"==typeof e.error&&e.error(t.error)):"function"==typeof e.success&&e.success(t)},"json").error(function(t,n){console.log("[WHMCS] Error: "+n),"function"==typeof e.fail&&e.fail(n)}).always(function(){"function"==typeof e.always&&e.always()})},this.jsonPost=function(e){e=e||{},this.post(e.url,e.data,function(t){t.warning?(console.log("[WHMCS] Warning: "+t.warning),"function"==typeof e.warning&&e.warning(t.warning)):t.error?(console.log("[WHMCS] Error: "+t.error),"function"==typeof e.error&&e.error(t.error)):"function"==typeof e.success&&e.success(t)},"json").error(function(t,n){console.log("[WHMCS] Error: "+n),"function"==typeof e.fail&&e.fail(n)}).always(function(){"function"==typeof e.always&&e.always()})},this},client:function(){var e=["get","post","put","delete"],t=this;return _beforeRequest=function(e){return"undefined"==typeof e.type&&(e.type="GET"),e},this.request=function(e){return e=_beforeRequest(e||{}),jQuery.ajax(e)},jQuery.each(e,function(e,n){t[n]=function(e,t){return function(n){return n=n||{},n.type=e.toUpperCase(),t.request(n)}}(n,t)}),this}}),function(e){WHMCS.hasModule("ui")||WHMCS.loadModule("ui",e)}({confirmation:function(){var e=[];return this.register=function(t){return"undefined"==typeof t&&(t="[data-toggle=confirmation]"),e.indexOf(t)<0&&e.push(t),jQuery(t).confirmation({rootSelector:t}),e},this},dataTable:function(){return this.tables={},this.register=function(){var e=this;jQuery("table.data-driven").each(function(t,n){e.getTableById(n.id,void 0)})},this.getTableById=function(e,t){var n=this,a=jQuery("#"+e);if("undefined"==typeof n.tables[e]){"undefined"==typeof t&&(t={dom:'<"listtable"ift>pl',paging:!1,lengthChange:!1,searching:!1,ordering:!0,info:!1,autoWidth:!0,language:{emptyTable:a.data("lang-empty-table")?a.data("lang-empty-table"):"No records found"}});var i=a.data("ajax-url");"undefined"!=typeof i&&(t.ajax={url:i});var r=a.data("dom");"undefined"!=typeof r&&(t.dom=r);var o=a.data("searching");"undefined"!=typeof o&&(t.searching=o);var d=a.data("responsive");"undefined"!=typeof d&&(t.responsive=d);var s=a.data("ordering");"undefined"!=typeof s&&(t.ordering=s);var l=a.data("order");"undefined"!=typeof l&&l&&(t.order=l);var u=a.data("columns");"undefined"!=typeof u&&u&&(t.columns=u);var c=a.data("auto-width");"undefined"!=typeof c&&(t.autoWidth=c);var h=a.data("paging");"undefined"!=typeof h&&(t.paging=h);var f=a.data("length-change");"undefined"!=typeof f&&(t.lengthChange=f);var p=a.data("page-length");"undefined"!=typeof p&&(t.pageLength=p),n.tables[e]=n.initTable(a,t)}else if("undefined"!=typeof t){var m=n.tables[e],y=m.init(),g=jQuery.extend(y,t);m.destroy(),n.tables[e]=n.initTable(a,g)}return n.tables[e]},this.initTable=function(e,t){var n=e.DataTable(t),a=this;return e.data("on-draw")?n.on("draw.dt",function(t,n){var a=e.data("on-draw");"function"==typeof window[a]&&window[a](t,n)}):e.data("on-draw-rebind-confirmation")&&n.on("draw.dt",function(e){a.rebindConfirmation(e)}),n},this.rebindConfirmation=function(e){for(var t=this,n=e.target.id,a=WHMCS.ui.confirmation.register(),i=0,r=a.length;i<r;i++)jQuery(a[i]).on("confirmed.bs.confirmation",function(e){e.preventDefault(),WHMCS.http.jqClient.post(jQuery(e.target).data("target-url"),{token:csrfToken}).done(function(e){"success"!==e.status&&"okay"!==e.status||t.getTableById(n,void 0).ajax.reload()})})},this},clipboard:function(){return this.copy=function(e){e.preventDefault();var t=$(e.currentTarget),n=$(t).data("clipboard-target"),a=$(n).parent();try{var i=$("<textarea>").css("position","fixed").css("opacity","0").css("width","1px").css("height","1px").val($(n).val());a.append(i),i.focus().select(),document.execCommand("copy")}finally{i.remove()}t.tooltip({trigger:"click",placement:"bottom"}),WHMCS.ui.toolTip.setTip(t,"Copied!"),WHMCS.ui.toolTip.hideTip(t)},this},toolTip:function(){this.setTip=function(e,t){var n=e.data("bs.tooltip");return"in"!==n.hoverState&&(n.hoverState="in"),e.attr("data-original-title",t),n.show(),n},this.hideTip=function(e){return setTimeout(function(){e.data("bs.tooltip").hide()},2e3)}},jsonForm:function(){return this.managedElements="input,textarea,select",this.initFields=function(e){var t=this;$(e).find(t.managedElements).each(function(){var e=this;$(e).on("keypress change",function(){t.fieldHasError(e)&&t.clearFieldError(e)})})},this.init=function(e){var t=this;t.initFields(e),$(e).on("submit",function(n){n.preventDefault(),n.stopPropagation(),t.clearErrors(e);var a=$(e).parents('.modal[role="dialog"]').first();$(a).length&&($(a).on("show.bs.modal hidden.bs.modal",function(){t.clearErrors(e)}),$(a).on("show.bs.modal",function(){$(e)[0].reset()})),WHMCS.http.client.post({url:$(e).attr("action"),data:$(e).serializeArray()}).done(function(n){t.onSuccess(e,n)}).fail(function(n){t.onError(e,n)}).always(function(n){t.onRequestComplete(e,n)})})},this.initAll=function(){var e=this;$('form[data-role="json-form"]').each(function(){var t=this;e.init(t)})},this.markFieldErrors=function(e,t){var n,a,i=this,r=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o]),a=i.managedElements.split(",").map(function(e){return e+'[name="'+o+'"]'}).join(","),n=$(e).find(a),r&&($(n).parents(".form-group").addClass("has-error"),$(n).attr("title",r),$(n).tooltip());$(e).find(".form-group.has-error input[title]").first().tooltip("show")},this.fieldHasError=function(e){return $(e).parents(".form-group").hasClass("has-error")},this.clearFieldError=function(e){$(e).tooltip("destroy"),$(e).parents(".form-group").removeClass("has-error")},this.onSuccess=function(e,t){var n=$(e).data("on-success");"function"==typeof n&&n(t.data)},this.onError=function(e,t){t.responseJSON&&t.responseJSON.fields&&"object"==typeof t.responseJSON.fields?this.markFieldErrors(e,t.responseJSON.fields):console.log("Unknown error - please try again later.");var n=$(e).data("on-error");"function"==typeof n&&n(t)},this.clearErrors=function(e){var t=this;$(e).find(t.managedElements).each(function(){t.clearFieldError(this)})},this.onRequestComplete=function(e,t){},this},effects:function(){this.errorShake=function(e){t=t||{};var t=$.extend({direction:"left",distance:8,times:3,speed:90},t);return e.each(function(){var e=$(this),n={position:e.css("position"),top:e.css("top"),bottom:e.css("bottom"),left:e.css("left"),right:e.css("right")};e.css("position","relative");var a="up"===t.direction||"down"===t.direction?"top":"left",i="up"===t.direction||"left"===t.direction?"pos":"neg",r={},o={},d={};r[a]=("pos"===i?"-=":"+=")+t.distance,o[a]=("pos"===i?"+=":"-=")+2*t.distance,d[a]=("pos"===i?"-=":"+=")+2*t.distance,e.animate(r,t.speed);for(var s=1;s<t.times;s++)e.animate(o,t.speed).animate(d,t.speed);e.animate(o,t.speed).animate(r,t.speed/2,function(){e.css(n)})})}}}),function(e){WHMCS.hasModule("form")||WHMCS.loadModule("form",e)}(function(){return this.checkAllBound=!1,this.register=function(){this.checkAllBound||(this.bindCheckAll(),this.checkAllBound=!0)},this.bindCheckAll=function(){var e=".btn-check-all";jQuery(e).click(function(e){var t=jQuery(e.target),n=jQuery("#"+t.data("checkbox-container")+' input[type="checkbox"]');if(t.data("btn-check-toggle")){var a="Deselect All",i="Select All";t.data("label-text-deselect")&&(a=t.data("label-text-deselect")),t.data("label-text-select")&&(i=t.data("label-text-select")),t.hasClass("toggle-active")?(n.prop("checked",!1),t.text(i),t.removeClass("toggle-active")):(n.prop("checked",!0),t.text(a),t.addClass("toggle-active"))}else t.data("btn-toggle-on")?n.prop("checked",!0):n.prop("checked",!1)})},this.reloadCaptcha=function(e){e||(e=jQuery("#inputCaptchaImage"));var t=jQuery(e).data("src");jQuery(e).attr("src",t+"?nocache="+(new Date).getTime())},this});var recaptchaLoadComplete=!1;!function(e){WHMCS.hasModule("recaptcha")||WHMCS.loadModule("recaptcha",e)}(function(){return this.register=function(){if(!recaptchaLoadComplete){var e=[],t=jQuery(".btn-recaptcha").parents("form");if(t.each(function(t,n){if("undefined"==typeof recaptchaSiteKey)return void console.log("Recaptcha site key not defined");var a=jQuery(n),i=a.find(".btn-recaptcha"),r=i.hasClass("btn-recaptcha-invisible"),o="undefined"!=typeof requiredText?requiredText:"Required",d=a.find("#divDynamicRecaptcha .g-recaptcha"),s=a.find(".recaptcha-container"),l=a;s.length&&(l=s),d.length||(l.append('<div id="divDynamicRecaptcha" class="g-recaptcha" data-toggle="tooltip" data-placement="bottom" data-trigger="manual" title="'+o+'"></div>'),d=l.find("#divDynamicRecaptcha")),r?"invisible"!==d.data("size")&&d.attr("data-size","invisible"):d.hide(),d.attr("data-sitekey",recaptchaSiteKey);var u=a.find("input[name='submit']");if(u.length){var c=a.prop("action");a.prop("action",c+"&submit=1"),u.remove()}var h="recaptchaCallback"+t;window[h]=function(){r&&a.submit()},d.attr("data-callback",h),r?a.on("submit",function(e){grecaptcha.getResponse().trim()||(e.preventDefault(),grecaptcha.execute())}):(e.push(function(){d.slideDown("fast",function(){d.find(":first").addClass("center-block")})}),e.push(function(){d.find(":first").addClass("center-block")}))}),t.length){var n="https://www.google.com/recaptcha/api.js";jQuery.getScript(n,function(){for(var t=e.length-1;t>=0;t--)e[t]()})}recaptchaLoadComplete=!0}},this}),function(e){WHMCS.hasModule("utils")||WHMCS.loadModule("utils",e)}(function(){return this.simpleRNG=function(){for(var e="./$_-#!,^*()|",t=0,n=0;t<3;n++)t+=Math.floor(10*Math.random()/2);t=Math.floor(t);for(var a="",i=0;i<t;i++)v=(Math.random()+1).toString(24).split(".")[1],a+=Math.random()>.5?btoa(v).substr(0,4):v,Math.random()>.5&&(a+=e.substr(Math.floor(13*Math.random()),1));return a},this.getRouteUrl=function(e){return whmcsBaseUrl+"/index.php?rp="+e},this.validateBaseUrl=function(){"undefined"==typeof window.whmcsBaseUrl?(console.log("Warning: The WHMCS Base URL definition is missing from your active template. Please refer to https://docs.whmcs.com/WHMCS_Base_URL_Template_Variable for more information and details of how to resolve this warning."),window.whmcsBaseUrl=this.autoDetermineBaseUrl(),window.whmcsBaseUrlAutoSet=!0):""===window.whmcsBaseUrl&&"undefined"!=typeof window.whmcsBaseUrlAutoSet&&window.whmcsBaseUrlAutoSet===!0&&(window.whmcsBaseUrl=this.autoDetermineBaseUrl())},this.autoDetermineBaseUrl=function(){var e=window.location.href,t=-1;if("undefined"!=typeof e&&(t=e.indexOf(".php")),t===-1&&(e=jQuery("#Primary_Navbar-Home a").attr("href"),"undefined"!=typeof e&&(t=e.indexOf(".php"))),t!==-1){e=e.substring(0,t);var n=e.lastIndexOf("/");if(n!==!1)return e.substring(0,n)}return""},this.normaliseStringValue=function(e){return e?e.toLowerCase().replace(/\s/g,"-"):""},this.generatePassword=function(e){for(var t=this.getPasswordCharacterSet(),n="",a=0;e>a;a++)n+=t[this.randomInt(t.length)];return n},this.getPasswordCharacterSet=function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-.:;=@_|{ldelim}{rdelim}~",t=[],n=0;e.length>n;n++){var a=e.charCodeAt(n);{if(!(55296>a||a>=57344)){if(56320>a&&e.length>n+1){var i=e.charCodeAt(n+1);if(i>=56320&&57344>i){var r=e.substring(n,n+2);n++,t.indexOf(r)==-1&&t.push(r);continue}}throw"Invalid UTF-16"}var r=e.charAt(n);t.indexOf(r)==-1&&t.push(r)}}return t},this.randomInt=function(e){var t=this.randomIntMathRandom(e);return t=(t+this.randomIntBrowserCrypto(e))%e},this.randomIntMathRandom=function(e){var t=Math.floor(Math.random()*e);if(0>t||t>=e)throw"Arithmetic exception";return t},this.randomIntBrowserCrypto=function(e){var t=null;if("crypto"in window)t=crypto;else{if(!("msCrypto"in window))return 0;t=msCrypto}if("getRandomValues"in t&&"Uint32Array"in window&&"function"==typeof Uint32Array||(t=null),null==t)return 0;var n=new Uint32Array(1);do t.getRandomValues(n);while(n[0]-n[0]%e>4294967296-e);return n[0]%e},this}),WHMCS.utils.validateBaseUrl(),"undefined"==typeof localTrans&&(localTrans=function(e,t){return"undefined"!=typeof _localLang&&"undefined"!=typeof _localLang[e]&&_localLang[e].length>0?_localLang[e]:t});var domainLookupCallCount,checkoutForm,furtherSuggestions;jQuery(document).ready(function(){function e(){if("left"!=jQuery("#scrollingPanelContainer").css("float"))return a.stop().css("margin-top","0"),!1;var e=a.outerHeight(),t=0;"undefined"!=typeof i&&(t=i.top);var n=jQuery(window).scrollTop()-t+o;n>r-e&&(n=r-e),jQuery(window).scrollTop()>t?a.stop().animate({marginTop:n}):a.stop().animate({marginTop:0})}jQuery("#order-standard_cart").find("input").not(".no-icheck").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),jQuery(".mc-promo .header").click(function(e){e.preventDefault(),jQuery(e.target).is(".btn, .btn span,.btn .fa")||(jQuery(this).parent().find(".rotate").toggleClass("down"),jQuery(this).parent().find(".body").slideToggle("fast"))}),jQuery(".mc-promos.viewcart .mc-promo:first-child .header").click();var t=jQuery("#inputCardNumber"),n=jQuery("#inputCardCVV2");t.length&&(t.payment("formatCardNumber"),jQuery("#inputCardCVV").payment("formatCardCVC"),jQuery("#inputCardStart").payment("formatCardExpiry"),jQuery("#inputCardExpiry").payment("formatCardExpiry")),n.length&&n.payment("formatCardCVC");var a=jQuery("#orderSummary");if(a.length){var i=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,o=15;jQuery(window).resize(function(){i=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,e()}),jQuery(window).scroll(function(){e()}),e()}if(jQuery("#frmConfigureProduct").submit(function(e){e.preventDefault();var t=jQuery("#btnCompleteProductConfig"),n=jQuery(t).html();jQuery(t).find("i").removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post("cart.php","ajax=1&a=confproduct&"+jQuery("#frmConfigureProduct").serialize(),function(e){e?(jQuery("#btnCompleteProductConfig").html(n),jQuery("#containerProductValidationErrorsList").html(e),jQuery("#containerProductValidationErrors").removeClass("hidden").show(),jQuery(window).scrollTop()>jQuery("#containerProductValidationErrors").offset().top&&jQuery("html, body").scrollTop(jQuery("#containerProductValidationErrors").offset().top-15)):window.location="cart.php?a=confdomains"})}),jQuery("#productConfigurableOptions").on("ifChecked","input",function(){
recalctotals()}),jQuery("#productConfigurableOptions").on("ifUnchecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("change","select",function(){recalctotals()}),jQuery(".addon-products").on("click",".panel-addon",function(e){e.preventDefault();var t=jQuery(this);t.hasClass("panel-addon-selected")?t.find('input[type="checkbox"]').iCheck("uncheck"):t.find('input[type="checkbox"]').iCheck("check")}),jQuery(".addon-products").on("ifChecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.addClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("check"),t.find(".panel-add").html('<i class="fas fa-shopping-cart"></i> '+localTrans("addedToCartRemove","Added to Cart (Remove)")),recalctotals()}),jQuery(".addon-products").on("ifUnchecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.removeClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("uncheck"),t.find(".panel-add").html('<i class="fas fa-plus"></i> '+localTrans("addToCart","Add to Cart")),recalctotals()}),jQuery("#frmConfigureProduct").on("ifChecked",".addon-selector",function(e){recalctotals()}),0==jQuery(".domain-selection-options input:checked").length){var d=jQuery(".domain-selection-options input:first");jQuery(d).iCheck("check"),jQuery(d).parents(".option").addClass("option-selected")}jQuery("#domain"+jQuery(".domain-selection-options input:checked").val()).show(),jQuery(".domain-selection-options input").on("ifChecked",function(e){jQuery(".domain-selection-options .option").removeClass("option-selected"),jQuery(this).parents(".option").addClass("option-selected"),jQuery(".domain-input-group").hide(),jQuery("#domain"+jQuery(this).val()).show()}),jQuery("#frmProductDomain").submit(function(e){e.preventDefault();var t=jQuery(this).find('button[type="submit"]'),n=jQuery("#DomainSearchResults"),a=jQuery("#spotlightTlds"),i=jQuery("#domainSuggestions"),r=jQuery("#btnDomainContinue"),o=jQuery(".domain-selection-options input:checked").val(),d=jQuery("#"+o+"sld"),s=d.val(),l="",u=jQuery("#frmProductDomainPid").val(),c="";if("incart"==o)d=jQuery("#"+o+"sld option:selected"),s=d.text();else if("subdomain"==o)c=jQuery("#"+o+"tld option:selected"),l=c.text();else{if(c=jQuery("#"+o+"tld"),l=c.val(),s&&!l)return c.tooltip("show"),c.focus(),!1;"."!=l.substr(0,1)&&(l="."+l)}if(!s)return d.tooltip("show"),d.focus(),!1;if(d.tooltip("hide"),c.length&&c.tooltip("hide"),jQuery('input[name="domainoption"]').iCheck("disable"),domainLookupCallCount=0,t.attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").addClass("hidden"),jQuery("#primaryLookupResult div").hide(),jQuery("#primaryLookupResult").find(".register-price-label").show().end().find(".transfer-price-label").addClass("hidden"),jQuery(".domain-lookup-register-loader").hide(),jQuery(".domain-lookup-transfer-loader").hide(),jQuery(".domain-lookup-other-loader").hide(),"register"==o?jQuery(".domain-lookup-register-loader").show():"transfer"==o?jQuery(".domain-lookup-transfer-loader").show():jQuery(".domain-lookup-other-loader").show(),jQuery(".domain-lookup-loader").show(),i.find("li").addClass("hidden").end().find(".clone").remove().end(),jQuery("div.panel-footer.more-suggestions").addClass("hidden").find("a").removeClass("hidden").end().find("span.no-more").addClass("hidden"),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),r.addClass("hidden").attr("disabled","disabled"),"register"!=o&&(a.hide(),jQuery(".suggested-domains").hide()),n.is(":visible")||n.hide().removeClass("hidden").fadeIn(),"register"==o){jQuery(".suggested-domains").hide().removeClass("hidden").fadeIn("fast"),a.hide().removeClass("hidden").fadeIn("fast"),jQuery("#resultDomainOption").val(o);var h=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"domain",domain:s+l,sld:s,tld:l,source:"cartAddDomain"},"json"),f=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"spotlight",domain:s+l,sld:s,tld:l,source:"cartAddDomain"},"json"),p=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"suggestions",domain:s+l,sld:s,tld:l,source:"cartAddDomain"},"json");h.done(function(e){jQuery.each(e.result,function(t,n){var a=null,i=jQuery("#primaryLookupResult"),o=i.find(".domain-available"),d=i.find(".domain-price"),s=i.find(".domain-unavailable"),l=i.find(".domain-invalid"),u=i.find(".domain-contact-support"),c=jQuery("#resultDomain"),h=jQuery("#resultDomainPricingTerm"),f=i.find(".domain-error");if(i.removeClass("hidden").show(),jQuery(".domain-lookup-primary-loader").hide(),!e.result.error&&n.isValidDomain)f.hide(),a=n.pricing,n.isAvailable&&"string"!=typeof a?(n.preferredTLDNotAvailable&&s.show().find("strong").html(n.originalUnavailableDomain),u.hide(),o.show().find("strong").html(n.domainName),d.show().find("span.price").html(a[Object.keys(a)[0]].register).end().find("button").attr("data-domain",n.idnDomainName),c.val(n.domainName),h.val(Object.keys(a)[0]).attr("name","domainsregperiod["+n.domainName+"]"),r.removeAttr("disabled")):(s.show().find("strong").html(n.domainName),u.hide(),"string"==typeof a&&"ContactUs"==a&&u.show());else{var p=l.find("span.domain-length-restrictions"),m=!1,y=/<br\s*\/>/,g=[];if(p.hide(),f.hide(),n.minLength>0&&n.maxLength>0)p.find(".min-length").html(n.minLength).end().find(".max-length").html(n.maxLength).end(),p.show();else if(e.result.error){if(e.result.error.match(y)){f.text(""),g=e.result.error.split(y);for(var v=0;v<g.length;v++){var C=g[v];C.length&&(f.text()&&f.append("<br />"),f.append(jQuery("<span></span>").text(C)))}}else f.text(e.result.error);f.show(),m=!0}m||l.show()}})}).always(function(){hasProductDomainLookupEnded(3,t)}),f.done(function(e){return"object"!=typeof e||0==e.result.length||e.result.error?void jQuery(".domain-lookup-spotlight-loader").hide():void jQuery.each(e.result,function(e,t){var n=t.tldNoDots,a=t.pricing,i=jQuery("#spotlight"+n+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),i.find("button").addClass("hidden").end(),t.isValidDomain?t.isAvailable&&"string"!=typeof a?(i.find("span.available").html(a[Object.keys(a)[0]].register).removeClass("hidden").end().find("button.btn-add-to-cart").attr("data-domain",t.idnDomainName).removeClass("hidden"),i.find("button.domain-contact-support").addClass("hidden").end()):"string"==typeof a?(""==a?i.find("button.unavailable").removeClass("hidden").end():i.find("button.domain-contact-support").removeClass("hidden").end(),i.find("span.available").addClass("hidden").end()):(i.find("button.unavailable").removeClass("hidden").end(),i.find("span.available").addClass("hidden").end()):i.find("button.invalid.hidden").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("button").not("button.invalid").addClass("hidden"),i.removeClass("hidden")})}).always(function(){hasProductDomainLookupEnded(3,t)}),p.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).addClass("hidden")});jQuery(".suggested-domains").removeClass("hidden");var t=1;jQuery.each(e.result,function(e,n){var a=n.tld,r=n.pricing;i.find("li:first").clone(!0,!0).appendTo(i);var o=i.find("li.domain-suggestion").last();o.addClass("clone").find("span.domain").html(n.sld).end().find("span.extension").html("."+a).end(),"string"==typeof r?(o.find("button.btn-add-to-cart").remove(),""!=r?o.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide():o.remove()):o.find("button.btn-add-to-cart").attr("data-domain",n.idnDomainName).end().find("span.price").html(r[Object.keys(r)[0]].register).end(),t<=10&&o.removeClass("hidden"),t++,n.group&&o.find("span.promo").addClass(n.group).html(n.group.toUpperCase()).removeClass("hidden").end(),furtherSuggestions=i.find("li.domain-suggestion.clone.hidden").length,furtherSuggestions>0&&jQuery("div.more-suggestions").removeClass("hidden")}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").removeClass("hidden")}).always(function(){hasProductDomainLookupEnded(3,t)})}else if("transfer"==o){jQuery("#resultDomainOption").val(o);var m=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"transfer",domain:s+l,sld:s,tld:l,source:"cartAddDomain"},"json");m.done(function(e){if("object"!=typeof e||0==e.result.length)return void jQuery(".domain-lookup-primary-loader").hide();var t=jQuery("#primaryLookupResult"),n=t.find(".transfer-eligible"),a=t.find(".domain-price"),i=t.find(".transfer-not-eligible"),o=jQuery("#resultDomain"),d=jQuery("#resultDomainPricingTerm");0===Object.keys(e.result).length&&(jQuery(".domain-lookup-primary-loader").hide(),t.removeClass("hidden").show(),i.show()),jQuery.each(e.result,function(e,s){var l=s.pricing;jQuery(".domain-lookup-primary-loader").hide(),t.removeClass("hidden").show(),s.isRegistered?(n.show(),a.show().find(".register-price-label").hide().end().find(".transfer-price-label").removeClass("hidden").show().end().find("span.price").html(l[Object.keys(l)[0]].transfer).end().find("button").attr("data-domain",s.idnDomainName),o.val(s.domainName),d.val(Object.keys(l)[0]).attr("name","domainsregperiod["+s.domainName+"]"),r.removeAttr("disabled")):i.show()})}).always(function(){hasProductDomainLookupEnded(1,t)})}else if("owndomain"==o||"subdomain"==o||"incart"==o){var y=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:o,pid:u,domain:s+l,sld:s,tld:l,source:"cartAddDomain"},"json");y.done(function(e){return"object"!=typeof e||0==e.result.length?void jQuery(".domain-lookup-subdomain-loader").hide():void jQuery.each(e.result,function(e,t){t.status===!0?window.location="cart.php?a=confproduct&i="+t.num:(jQuery(".domain-lookup-primary-loader").hide(),"string"==typeof t?jQuery("#primaryLookupResult").removeClass("hidden").show().find(".domain-error").text(t).show():jQuery("#primaryLookupResult").removeClass("hidden").show().find(".domain-invalid").show())})}).always(function(){hasProductDomainLookupEnded(1,t)})}r.removeClass("hidden")}),jQuery("#btnAlreadyRegistered").click(function(){jQuery("#containerNewUserSignup").slideUp("",function(){jQuery("#containerExistingUserSignin").hide().removeClass("hidden").slideDown("",function(){jQuery("#inputCustType").val("existing"),jQuery("#btnAlreadyRegistered").fadeOut("",function(){jQuery("#btnNewUserSignup").removeClass("hidden").fadeIn()})})}),jQuery("#containerNewUserSecurity").hide(),jQuery("#stateselect").attr("required")&&jQuery("#stateselect").removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp()}),jQuery("#btnNewUserSignup").click(function(){jQuery("#containerExistingUserSignin").slideUp("",function(){jQuery("#containerNewUserSignup").hide().removeClass("hidden").slideDown("",function(){jQuery("#inputCustType").val("new"),0==jQuery("#passwdFeedback").html().length&&jQuery("#containerNewUserSecurity").show(),jQuery("#btnNewUserSignup").fadeOut("",function(){jQuery("#btnAlreadyRegistered").removeClass("hidden").fadeIn()})}),jQuery(".marketing-email-optin").slideDown()}),jQuery("#stateselect").hasClass("requiredAttributeRemoved")&&jQuery("#stateselect").attr("required","required").removeClass("requiredAttributeRemoved")});var s=jQuery(".existing-card"),l=(jQuery("#cvv-field-container"),jQuery("#existingCardsContainer")),u=jQuery("#newCardInfo"),c=jQuery("#newCardSaveSettings"),h=jQuery("#inputNoStoreContainer"),f=jQuery("#existingCardInfo"),p=jQuery("#new"),m=jQuery("#creditCardInputFields");s.on("ifChecked",function(e){c.slideUp().find("input").attr("disabled","disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(u.slideUp().find("input").attr("disabled","disabled"),f.slideDown().find("input").removeAttr("disabled"))}),p.on("ifChecked",function(e){c.slideDown().find("input").removeAttr("disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(u.slideDown().find("input").removeAttr("disabled"),f.slideUp().find("input").attr("disabled","disabled"))}),s.length||f.slideUp().find("input").attr("disabled","disabled"),jQuery(".payment-methods").on("ifChecked",function(e){if(jQuery(this).hasClass("is-credit-card")){var t=jQuery(this).data("payment-type"),n=jQuery(this).val(),a=jQuery(this).data("show-local"),i=[];"RemoteCreditCard"===t?h.hide().find("input").prop("disabled","disabled"):h.is(":visible")||h.show().find("input").removeProp("disabled"),s.each(function(e){var r=jQuery(this).data("payment-type"),o=jQuery(this).data("payment-gateway"),d=jQuery(this).val(),s=r===t,l=!1;"RemoteCreditCard"===t?l=o===n:"CreditCard"===t&&(l=!0),a&&"CreditCard"===r&&(s=!0,l=!0);var u=jQuery('[data-paymethod-id="'+d+'"]');s&&l?(jQuery(u).show(),i.push(this)):jQuery(u).hide()});var r=i.filter(function(e){return!jQuery(e).attr("disabled")});if(r.length>0){var o=null;jQuery.each(r,function(e,t){var n=jQuery(t),a=parseInt(n.data("order-preference"),10);if((null===o||a<o)&&(o=n.val(),0===a))return!1}),null===o&&(o="new"),jQuery.each(r,function(e,t){var n=jQuery(t);if(n.val()===o)return n.iCheck("check"),!1}),l.show(),f.removeClass("hidden").show().find("input").removeAttr("disabled")}else jQuery(p).iCheck("check"),l.hide(),f.hide().find("input").attr("disabled","disabled");m.is(":visible")||m.hide().removeClass("hidden").slideDown()}else m.slideUp()}),jQuery(".payment-methods:checked").trigger("ifChecked"),jQuery(".cc-input-container .paymethod-info").click(function(){var e=$(this).data("paymethod-id"),t=jQuery('input[name="ccinfo"][value='+e+"]:not(:disabled)");t.length>0&&t.iCheck("check")}),jQuery("#inputDomainContact").on("change",function(){"addingnew"==this.value?jQuery("#domainRegistrantInputFields").hide().removeClass("hidden").slideDown():jQuery("#domainRegistrantInputFields").slideUp()}),"function"==typeof registerFormPasswordStrengthFeedback?jQuery("#inputNewPassword1").keyup(registerFormPasswordStrengthFeedback):jQuery("#inputNewPassword1").keyup(function(){passwordStrength=getPasswordStrength(jQuery(this).val()),passwordStrength>=75?(textLabel=langPasswordStrong,cssClass="success"):passwordStrength>=30?(textLabel=langPasswordModerate,cssClass="warning"):(textLabel=langPasswordWeak,cssClass="danger"),jQuery("#passwordStrengthTextLabel").html(langPasswordStrength+": "+passwordStrength+"% "+textLabel),jQuery("#passwordStrengthMeterBar").css("width",passwordStrength+"%").attr("aria-valuenow",passwordStrength),jQuery("#passwordStrengthMeterBar").removeClass("progress-bar-success progress-bar-warning progress-bar-danger").addClass("progress-bar-"+cssClass)}),jQuery("#inputDomain").on("shown.bs.tooltip",function(){setTimeout(function(e){e.tooltip("hide")},5e3,jQuery(this))}),jQuery("#frmDomainChecker").submit(function(e){e.preventDefault();var t=jQuery("#frmDomainChecker"),n=jQuery("#inputDomain"),a=jQuery("#domainSuggestions"),i=jQuery("#divDynamicRecaptcha"),r=jQuery("#inputCaptcha");if(domainLookupCallCount=0,!n.val())return n.tooltip("show"),void n.focus();if(n.tooltip("hide"),jQuery("#captchaContainer").length)return void validate_captcha(t);i.tooltip("hide"),r.tooltip("hide"),jQuery("#btnCheckAvailability").attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").addClass("hidden"),jQuery(".domain-lookup-loader").show(),a.find("li").addClass("hidden").end(),a.find(".clone").remove().end(),jQuery("div.panel-footer.more-suggestions").addClass("hidden").find("a").removeClass("hidden").end().find("span.no-more").addClass("hidden"),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),jQuery(".suggested-domains").hide().removeClass("hidden").fadeIn("fast"),jQuery("#DomainSearchResults").is(":visible")||(jQuery(".domain-pricing").hide(),jQuery("#DomainSearchResults").hide().removeClass("hidden").fadeIn());var o=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=domain","json"),d=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=spotlight","json"),s=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=suggestions","json");o.done(function(e){return"object"!=typeof e||0==e.result.length?void jQuery(".domain-lookup-primary-loader").hide():void jQuery.each(e.result,function(t,n){var a=null,i=jQuery("#primaryLookupResult"),r=i.find(".domain-available"),o=i.find(".domain-price"),d=i.find(".domain-contact-support"),s=i.find(".domain-unavailable"),l=i.find(".domain-invalid"),u=i.find(".domain-error");if(jQuery(".domain-lookup-primary-loader").hide(),i.find(".btn-add-to-cart").removeClass("checkout"),i.removeClass("hidden").show(),!e.result.error&&n.isValidDomain)a=n.pricing,s.hide(),d.hide(),l.hide(),u.hide(),n.isAvailable&&"string"!=typeof a?(n.preferredTLDNotAvailable&&s.show().find("strong").html(n.originalUnavailableDomain),r.show().find("strong").html(n.domainName),o.show().find("span.price").html(a[Object.keys(a)[0]].register).end().find("button").attr("data-domain",n.idnDomainName)):(r.hide(),o.hide(),d.hide(),s.show().find("strong").html(n.domainName),"string"==typeof a&&"ContactUs"==a&&d.show());else{r.hide(),o.hide(),s.hide(),d.hide(),l.hide(),u.hide();var c=l.find("span.domain-length-restrictions"),h=!1,f=/<br\s*\/>/,p=[];if(c.hide(),n.minLength>0&&n.maxLength>0)c.find(".min-length").html(n.minLength).end().find(".max-length").html(n.maxLength).end(),c.show();else if(e.result.error){if(e.result.error.match(f)){u.text(""),p=e.result.error.split(f);for(var m=0;m<p.length;m++){var y=p[m];y.length&&(u.text()&&u.append("<br />"),u.append(jQuery("<span></span>").text(y)))}}else u.text(e.result.error);u.show(),h=!0}h||l.show()}})}).always(function(){hasDomainLookupEnded()}),d.done(function(e){return"object"!=typeof e||0==e.result.length||e.result.error?void jQuery(".domain-lookup-spotlight-loader").hide():void jQuery.each(e.result,function(e,t){var n=t.tldNoDots,a=t.pricing,i=jQuery("#spotlight"+n+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),i.find("button").addClass("hidden").end(),t.isValidDomain?t.isAvailable&&"string"!=typeof a?(i.find("button.unavailable").addClass("hidden").end().find("button.invalid").addClass("hidden").end().find("span.available").html(a[Object.keys(a)[0]].register).removeClass("hidden").end().find("button").not("button.unavailable").not("button.invalid").attr("data-domain",t.idnDomainName).removeClass("hidden"),i.find("button.domain-contact-support").addClass("hidden").end()):"string"==typeof a?(""==a?i.find("button.unavailable").removeClass("hidden").end():i.find("button.domain-contact-support").removeClass("hidden").end(),i.find("button.invalid").addClass("hidden").end(),i.find("span.available").addClass("hidden").end()):i.find("button.invalid").addClass("hidden").end().find("button.unavailable").removeClass("hidden").end().find("span.available").addClass("hidden").end():i.find("button.invalid.hidden").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("button").not("button.invalid").addClass("hidden"),i.removeClass("hidden")})}).always(function(){hasDomainLookupEnded()}),s.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).addClass("hidden")});jQuery(".suggested-domains").removeClass("hidden");var t=1;jQuery.each(e.result,function(e,n){var i=n.tld,r=n.pricing;a.find("li:first").clone(!0,!0).appendTo(a);var o=a.find("li.domain-suggestion").last();o.addClass("clone").find("span.domain").html(n.sld).end().find("span.extension").html("."+i).end(),"string"==typeof r?(o.find("button.btn-add-to-cart").remove(),""!=r?o.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide():o.remove()):o.find("button.btn-add-to-cart").attr("data-domain",n.idnDomainName).end().find("span.price").html(r[Object.keys(r)[0]].register).end(),t<=10&&o.removeClass("hidden"),t++,n.group&&(o.find("span.promo").addClass(n.group).removeClass("hidden").end(),o.find("span.sales-group-"+n.group).removeClass("hidden").end()),furtherSuggestions=a.find("li.domain-suggestion.clone.hidden").length,furtherSuggestions>0&&jQuery("div.more-suggestions").removeClass("hidden")}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").removeClass("hidden")}).always(function(){hasDomainLookupEnded()})}),jQuery(".btn-add-to-cart").on("click",function(){if(jQuery(this).hasClass("checkout"))return void(window.location="cart.php?a=confdomains");var e=jQuery(this).attr("data-domain"),t=jQuery('button[data-domain="'+e+'"]'),n=jQuery(this).attr("data-whois"),a=jQuery(this).hasClass("product-domain"),i=jQuery("#btnDomainContinue"),r=jQuery("#resultDomain"),o=jQuery("#resultDomainPricingTerm");t.attr("disabled","disabled").each(function(){jQuery(this).css("width",jQuery(this).outerWidth())});var d=jQuery(this).parents(".spotlight-tlds").length>0||jQuery(this).parents(".suggested-domains").length>0?1:0;WHMCS.http.jqClient.post(window.location.pathname,{a:"addToCart",domain:e,token:csrfToken,whois:n,sideorder:d},"json").done(function(n){t.find("span.to-add").hide(),"added"==n.result?(t.find("span.added").show().end(),a||t.removeAttr("disabled").addClass("checkout"),r.length&&!r.val()&&(r.val(e),o.val(n.period).attr("name","domainsregperiod["+e+"]"),i.length>0&&i.is(":disabled")&&i.removeAttr("disabled")),jQuery("#cartItemCount").html(n.cartCount)):t.find("span.unavailable").show()})}),jQuery("#frmDomainTransfer").submit(function(e){e.preventDefault();var t=jQuery("#frmDomainTransfer"),n=jQuery("#btnTransferDomain"),a=jQuery("#inputTransferDomain"),i=jQuery("#inputAuthCode"),r=a.val(),o=i.val(),d=!1,s=jQuery("#divDynamicRecaptcha"),l=jQuery("#inputCaptcha");return r?(a.tooltip("hide"),jQuery("#captchaContainer").length?void validate_captcha(t):(s.tooltip("hide"),l.tooltip("hide"),n.attr("disabled","disabled").addClass("disabled").find("span").hide().removeClass("hidden").end().find(".loader").show(),void WHMCS.http.jqClient.post(t.attr("action"),t.serialize(),null,"json").done(function(e){if("object"!=typeof e)return n.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled"),!1;var t=e.result;"added"==t?(window.location="cart.php?a=confdomains",d=!0):1==t.isRegistered?1!=t.epp||o||(i.tooltip("show"),i.focus()):jQuery("#transferUnavailable").html(t.unavailable).hide().removeClass("hidden").fadeIn("fast",function(){setTimeout(function(e){e.fadeOut("fast")},3e3,jQuery(this))})}).always(function(){0==d&&n.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled")}))):(a.tooltip("show"),a.focus(),!1)}),jQuery("#btnEmptyCart").click(function(){jQuery("#modalEmptyCart").modal("show")}),jQuery("#cardType li a").click(function(e){e.preventDefault(),jQuery("#selectedCardType").html(jQuery(this).html()),jQuery("#cctype").val(jQuery("span.type",this).html().trim())}),jQuery(document).on("click",".domain-contact-support",function(e){e.preventDefault();var t=window.open();t.opener=null,t.location="submitticket.php"}),jQuery("#frmConfigureProduct input:visible, #frmConfigureProduct select:visible").first().focus(),jQuery("#frmProductDomain input[type=text]:visible").first().focus(),jQuery("#frmDomainChecker input[type=text]:visible").first().focus(),jQuery("#frmDomainTransfer input[type=text]:visible").first().focus(),jQuery(".mc-promo .btn-add").click(function(e){var t=jQuery(this);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:t.data("product-key"),token:csrfToken},function(e){return"undefined"!=typeof e.modal?void openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId):void window.location.reload(!0)},"json")}),jQuery(document).on("click","#btnAddUpSell",function(e){needRefresh=!0});var y=jQuery("#iCheck-useFullCreditOnCheckout"),g=jQuery("#iCheck-skipCreditOnCheckout");y.on("ifChecked",function(){var e=jQuery("#useFullCreditOnCheckout"),t=jQuery('input[name="paymentmethod"]:checked'),n=t.hasClass("is-credit-card"),a=jQuery('input[name="paymentmethod"]').not(jQuery('input.is-credit-card[name="paymentmethod"]')).first(),i=jQuery("#paymentGatewaysContainer"),r=jQuery("#creditCardInputFields");e.prop("checked")&&(n&&0!==a.length?(a.iCheck("check"),r.slideUp(),i.slideUp()):n&&!i.is(":visible")&&(r.slideDown(),i.slideDown()))}),g.on("ifChecked",function(){var e=jQuery('input[name="paymentmethod"]:checked'),t=e.hasClass("is-credit-card"),n=jQuery("#paymentGatewaysContainer");n.is(":visible")||(n.slideDown(),t&&jQuery("#creditCardInputFields").slideDown())}),1===jQuery("#applyCreditContainer").data("apply-credit")&&y.length&&(g.iCheck("check"),y.iCheck("check")),jQuery("#domainRenewals").find("span.added").hide().end().find("span.to-add").find("i").hide(),jQuery(".btn-add-renewal-to-cart").on("click",function(){var e=jQuery(this),t=e.data("domain-id"),n=jQuery("#renewalPricing"+t).val();return e.hasClass("checkout")?void(window.location="cart.php?a=view"):(e.attr("disabled","disabled").each(function(){jQuery(this).find("i").fadeIn("fast").end().css("width",jQuery(this).outerWidth())}),void WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/cart/domain/renew/add"),{domainId:t,period:n,token:csrfToken},null,"json").done(function(t){e.find("span.to-add").hide(),"added"===t.result&&e.find("span.added").show().end().find("i").fadeOut("fast").css("width",e.outerWidth()),recalculateRenewalTotals()}))}),jQuery(document).on("submit","#removeRenewalForm",function(e){e.preventDefault(),WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",jQuery(this).serialize()+"&ajax=1").done(function(e){var t=e.i,n=jQuery("#renewDomain"+t);n.attr("disabled","disabled").each(function(){jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled"),jQuery(this).css("width",jQuery(this).outerWidth())})}).always(function(){jQuery("#modalRemoveItem").modal("hide"),recalculateRenewalTotals()})}),jQuery(".select-renewal-pricing").on("change",function(){var e=jQuery(this),t=e.data("domain-id"),n=jQuery("#renewDomain"+t);n.attr("disabled","disabled").each(function(){jQuery(this).css("width",jQuery(this).outerWidth()),jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled")})}),jQuery("#domainRenewalFilter").on("keyup",function(){var e=jQuery(this).val().toLowerCase();jQuery("#domainRenewals").find("div.domain-renewal").filter(function(){jQuery(this).toggle(jQuery(this).data("domain").toLowerCase().indexOf(e)>-1)})}),checkoutForm=jQuery("#frmCheckout"),checkoutForm.length&&checkoutForm.on("submit",validateCheckoutCreditCardInput),l.is(":visible")&&u.hide()});