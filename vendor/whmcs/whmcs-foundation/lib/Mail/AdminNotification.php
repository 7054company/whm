<?php
/*
 * @ https://EasyToYou.eu - IonCube v10 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

namespace WHMCS\Mail;

class AdminNotification
{
    protected $rawHtml = "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=**CHARSET**\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n        <title>**SUBJECT**</title>\n        <style type=\"text/css\">\n            [EmailCSS]\n        </style>\n    </head>\n    <body leftmargin=\"0\" marginwidth=\"0\" topmargin=\"0\" marginheight=\"0\" offset=\"0\">\n        <center>\n            <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" height=\"100%\" width=\"100%\" id=\"bodyTable\">\n                <tr>\n                    <td align=\"center\" valign=\"top\" id=\"bodyCell\">\n                        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" id=\"templateContainer\">\n                            <tr>\n                                <td align=\"center\" valign=\"top\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" id=\"templateHeader\">\n                                        <tr>\n                                            <td valign=\"top\" class=\"headerContent\">\n                                                <img src=\"**LOGOURL**\" style=\"max-width:600px;padding:20px 20px 0 20px\" id=\"headerImage\" alt=\"**COMPANYNAME**\" />\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td align=\"center\" valign=\"top\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" id=\"templateBody\">\n                                        <tr>\n                                            <td valign=\"top\" class=\"bodyContent\">\n                                                **MESSAGE**\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td align=\"center\" valign=\"top\">\n                                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" id=\"templateFooter\">\n                                        <tr>\n                                            <td valign=\"top\" class=\"footerContent\">\n                                                <a href=\"https://www.whmcs.com/\"><img src=\"https://cdn.whmcs.com/images/whmcs_email_footer.png\" id=\"footerImage\" alt=\"WHMCS\" /></a>\n                                                This notification was automatically generated by WHMCS<br />\n                                                &nbsp;<a href=\"**DOMAIN**/\">**DOMAIN**/</a>\n                                                <span class=\"hide-mobile\"> | </span>\n                                                <a href=\"**ADMINURL**\">log in to the admin area</a>&nbsp;\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </center>\n    </body>\n</html>";
    protected static $cssStyling = ".ExternalClass,.ExternalClass div,.ExternalClass font,.ExternalClass p,.ExternalClass span,.ExternalClass td,h1,img{line-height:100%}h1,h2{display:block;font-family:Helvetica;font-style:normal;font-weight:700}#outlook a{padding:0}.ExternalClass,.ReadMsgBody{width:100%}a,blockquote,body,li,p,table,td{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}table,td{mso-table-lspace:0;mso-table-rspace:0}img{-ms-interpolation-mode:bicubic;border:0;height:auto;outline:0;text-decoration:none}table{border-collapse:collapse!important}#bodyCell,#bodyTable,body{height:100%!important;margin:0;padding:0;width:100%!important}#bodyCell{padding:20px;}#templateContainer{width:600px;border:1px solid #ddd;background-color:#fff}#bodyTable,body{background-color:#FAFAFA}h1{color:#202020!important;font-size:26px;letter-spacing:normal;text-align:left;margin:0 0 10px}h2{color:#404040!important;font-size:20px;line-height:100%;letter-spacing:normal;text-align:left;margin:0 0 10px}h3,h4{display:block;font-style:italic;font-weight:400;letter-spacing:normal;text-align:left;margin:0 0 10px;font-family:Helvetica;line-height:100%}h3{color:#606060!important;font-size:16px}h4{color:grey!important;font-size:14px}.headerContent{color:#505050;font-family:Helvetica;font-size:20px;font-weight:700;line-height:100%;text-align:left;vertical-align:middle;padding:0}.bodyContent,.footerContent{font-family:Helvetica;line-height:150%;text-align:left;}.bodyContent pre{padding:15px;background-color:#444;color:#f8f8f8;border:0}.bodyContent pre code{white-space:pre;word-break:normal;word-wrap:normal}.bodyContent table{margin:10px 0;background-color:#fff;border:1px solid #ddd}.bodyContent table th{padding:4px 10px;background-color:#f8f8f8;border:1px solid #ddd;font-family:Helvetica;font-size:14px;font-weight:700;text-align:center}.bodyContent table td{padding:3px 8px;border:1px solid #ddd;font-family:Helvetica;font-size:14px}.quoted-content {margin:15px 0;padding:15px;background-color:#f9f9f9;border-radius:4px}.bodyContent table.keyvalue-table{border:0}.bodyContent table.keyvalue-table td{border:0}.table-responsive{border:0}.bodyContent a{word-break:break-all}.headerContent a .yshortcuts,.headerContent a:link,.headerContent a:visited{color:#1f5d8c;font-weight:400;text-decoration:underline}#headerImage{height:auto;max-width:600px;padding:20px 20px 0 20px}#footerImage{float:right;padding:0 0 0 15px}#templateBody{background-color:#fff}.bodyContent{color:#505050;font-size:14px;padding:20px}.bodyContent a .yshortcuts,.bodyContent a:link,.bodyContent a:visited{color:#1f5d8c;font-weight:400;text-decoration:underline}.bodyContent a:hover{text-decoration:none}.bodyContent img{display:inline;height:auto;max-width:560px}.footerContent{background-color:#f8f8f8;color:grey;font-size:10px;padding:20px}.footerContent a .yshortcuts,.footerContent a span,.footerContent a:link,.footerContent a:visited{color:#606060;font-weight:400;text-decoration:underline}@media only screen and (max-width:640px){h1,h2,h3,h4{line-height:100%!important}#templateContainer{max-width:600px!important;width:100%!important}#templateContainer,body{width:100%!important}a,blockquote,body,li,p,table,td{-webkit-text-size-adjust:none!important}body{min-width:100%!important}#bodyCell{padding:10px!important}h1{font-size:24px!important}h2{font-size:20px!important}h3{font-size:18px!important}h4{font-size:16px!important}#templatePreheader{display:none!important}.headerContent{font-size:20px!important;line-height:125%!important}.footerContent{font-size:14px!important;line-height:115%!important}.footerContent a{display:block!important}#footerImage{float:none;padding:0 0 20px 0}.hide-mobile{display:none;}}table.grid-block,table.grid-block table,table.grid-block td{margin:0;padding:0;border:0;background-color:inherit}table.grid-block-inner{background-color:#efefef;}@media only screen and (max-width: 640px){td[class=\"grid-block\"] table{width:100%}td[class=\"grid-block\"] .spacer{display:none}td[class=\"grid-block\"] .row-nopadding{padding:0!important}td[class=\"grid-block\"] .section{display:block;float:left;height:auto;padding:10px 20px;margin-bottom:8px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}}";
    public function getRawHtml()
    {
        return $this->rawHtml;
    }
    public static function getCssStyling()
    {
        return self::$cssStyling;
    }
    public function getPreparedHtml($subject, $message)
    {
        $whmcs = \App::self();
        $adminUrl = $whmcs->getSystemURL() . $whmcs->get_admin_folder_name() . "/";
        $stringsToReplace = array("**SUBJECT**" => $subject, "**MESSAGE**" => $message, "**COMPANYNAME**" => \WHMCS\Config\Setting::getValue("CompanyName"), "**LOGOURL**" => $whmcs->getLogoUrlForEmailTemplate(), "**DOMAIN**" => \WHMCS\Config\Setting::getValue("Domain"), "**ADMINURL**" => $adminUrl, "**CHARSET**" => \WHMCS\Config\Setting::getValue("Charset"));
        $html = $this->getRawHtml();
        foreach ($stringsToReplace as $key => $value) {
            $html = str_replace($key, $value, $html);
        }
        return $html;
    }
}

?>